<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PrajwalUlli</title>
        <link rel="icon" type="image/png" href="assets/images/logo7.svg" />

        <style>
            @import url("https://fonts.cdnfonts.com/css/space-mono");

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                font-family: "SpaceMono Nerd Font Mono";
            }

            body {
                width: 100vw;
                height: 100vh;
                background-color: #0a0a0a;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .container {
                width: 900px;
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            .row {
                display: flex;
                gap: 10px;
            }

            .block {
                background-color: #0e0d0d;
                border: 2px solid #181818;
                border-radius: 12px;
            }

            /* ---------- FIRST ROW ---------- */

            .row:first-child {
                height: 120px;
            }

            .row:first-child .block {
                height: 100%;
            }

            .row:first-child .block:nth-child(1) {
                width: 120px;
                flex-shrink: 0;
            }

            .row:first-child .block:nth-child(2) {
                width: 395px;
            }

            .row:first-child .block:nth-child(3) {
                width: 375px;
            }

            /* ---------- OTHER ROWS ---------- */

            .row:nth-child(2) .block:nth-child(1) {
                width: 350px;
                height: 130px;
            }

            .row:nth-child(2) .block:nth-child(2) {
                width: 610px;
                height: 130px;
            }

            .row:nth-child(3) .block:nth-child(1) {
                width: 200px;
                height: 220px;
            }

            .row:nth-child(3) .block:nth-child(2) {
                width: 690px;
                height: 220px;
            }

            /* ---------- LOGO ---------- */

            .logo-block {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .logo {
                width: 40px;
            }

            /* ---------- ABOUT ---------- */

            .about-block {
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
                color: white;
                font-size: 12px;
                text-align: center;
            }

            .about-text {
                max-width: 320px;
                line-height: 1.6;
            }

            .skill-text {
                color: #f23b3b;
            }

            /* ---------- SKILLS ---------- */

            .skills-block {
                padding: 12px 18px;
                color: white;
                display: flex;
                flex-direction: column;
            }

            .skills-title {
                font-size: 9px;
                letter-spacing: 1.5px;
                opacity: 0.5;
                margin-bottom: 6px;
            }

            .skills-icons {
                flex: 1;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 25px;
            }

            .skills-icons img {
                width: 23px;
                opacity: 0.75;
            }

            /* ---------- SOCIALS ---------- */

            .socials-block {
                padding: 14px 18px;
                color: white;
                display: flex;
                flex-direction: column;
            }

            .socials-title {
                font-size: 9px;
                letter-spacing: 1.5px;
                opacity: 0.5;
                margin-bottom: 20px;
            }

            /* ---------- CUBE TEXT ---------- */

            .socials-name {
                height: 24px;
                margin-bottom: 14px;
                perspective: 700px;
                overflow: hidden;
                font-size: 13px;
                text-align: center;
            }

            .cube {
                position: relative;
                height: 24px;
                transform-style: preserve-3d;
            }

            .cube-face {
                position: absolute;
                inset: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                backface-visibility: hidden;
            }

            .cube-face.current {
                transform: rotateX(0deg) translateZ(12px);
            }

            .cube-face.next {
                transform: rotateX(-90deg) translateZ(12px);
            }

            .cube.flip {
                transition: transform 0.45s cubic-bezier(0.22, 1, 0.36, 1);
                transform: rotateX(90deg);
            }

            /* ---------- ICONS ---------- */

            .socials-icons {
                display: flex;
                justify-content: center;
                gap: 35px;
            }

            .social-icon {
                position: relative;
                width: 17px;
                height: 17px;
                cursor: pointer;
                text-decoration: none;
                display: block;
            }

            .social-icon img {
                position: absolute;
                inset: 0;
                width: 100%;
                height: 100%;
                transition: opacity 0.25s ease;
            }

            .social-icon .hover {
                opacity: 0;
            }

            .social-icon:hover .default {
                opacity: 0;
            }

            .social-icon:hover .hover {
                opacity: 1;
            }
        </style>
    </head>

    <body>
        <div class="container">
            <div class="row">
                <div class="block logo-block">
                    <img src="assets/images/logo7.svg" class="logo" />
                </div>

                <div class="block about-block">
                    <p class="about-text">
                        <span class="skill-text">Designer/WebDev</span> crafting
                        beautiful, minimal and intuitive interfaces. I spend
                        most of my time studying the human computer
                        interactions.
                    </p>
                </div>

                <div class="block skills-block">
                    <div class="skills-title">SKILLS</div>
                    <div class="skills-icons">
                        <img src="assets/images/linux.svg" />
                        <img src="assets/images/js.svg" />
                        <img src="assets/images/nestjs.svg" />
                        <img src="assets/images/python.svg" />
                        <img src="assets/images/html.svg" />
                        <img src="assets/images/sql.svg" />
                        <img src="assets/images/git.svg" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="block socials-block">
                    <div class="socials-title">SOCIALS</div>

                    <div class="socials-name">
                        <div class="cube">
                            <span
                                class="cube-face current"
                                id="textCurrent"
                            ></span>
                            <span class="cube-face next" id="textNext"></span>
                        </div>
                    </div>

                    <div class="socials-icons">
                        <div
                            class="social-icon"
                            data-text="github.com/prajwalulli"
                            data-link="https://github.com/prajwalulli"
                        >
                            <img
                                src="assets/images/GitHub.svg"
                                class="default"
                            />
                            <img
                                src="assets/images/GitHub-C.svg"
                                class="hover"
                            />
                        </div>

                        <div
                            class="social-icon"
                            data-text="dribbble.com/prajwal-ulli"
                            data-link="https://dribbble.com/prajwal-ulli"
                        >
                            <img
                                src="assets/images/Dribbble.svg"
                                class="default"
                            />
                            <img
                                src="assets/images/Dribbble-C.svg"
                                class="hover"
                            />
                        </div>

                        <div
                            class="social-icon"
                            data-text="in/prajwalchandrashekharulli"
                            data-link="https://linkedin.com/in/prajwal-chandrashekhar-ulli-a75658259"
                        >
                            <img
                                src="assets/images/LinkedIn.svg"
                                class="default"
                            />
                            <img
                                src="assets/images/LinkedIn-C.svg"
                                class="hover"
                            />
                        </div>

                        <div
                            class="social-icon"
                            data-text="instagram.com/prajwalulli"
                            data-link="https://instagram.com/prajwalulli"
                        >
                            <img
                                src="assets/images/Instagram.svg"
                                class="default"
                            />
                            <img
                                src="assets/images/Instagram-C.svg"
                                class="hover"
                            />
                        </div>

                        <a
                            class="social-icon"
                            data-text="ulliprajwaledu@gmail.com"
                            href="mailto:ulliprajwaledu@gmail.com"
                        >
                            <img
                                src="assets/images/Google.svg"
                                class="default"
                            />
                            <img
                                src="assets/images/Google-C.svg"
                                class="hover"
                            />
                        </a>
                    </div>
                </div>

                <div class="block"></div>
            </div>

            <div class="row">
                <div class="block"></div>
                <div class="block"></div>
            </div>
        </div>

        <script>
            const defaultText = "Prajwal Chandrashekhar Ulli";

            const cube = document.querySelector(".cube");
            const currentEl = document.getElementById("textCurrent");
            const nextEl = document.getElementById("textNext");

            let currentText = defaultText;
            let isFlipping = false;
            let queuedText = null;
            let flipTimeout = null;

            const FLIP_DURATION = 450; // must match CSS

            currentEl.textContent = defaultText;

            function cleanupAfterFlip(text) {
                cube.classList.remove("flip");
                currentEl.textContent = text;
                nextEl.textContent = "";
                currentText = text;
                isFlipping = false;

                if (queuedText && queuedText !== currentText) {
                    const next = queuedText;
                    queuedText = null;
                    requestAnimationFrame(() => flipTo(next));
                } else {
                    queuedText = null;
                }
            }

            function flipTo(text) {
                if (isFlipping) {
                    queuedText = text;
                    return;
                }

                if (text === currentText) return;

                isFlipping = true;
                nextEl.textContent = text;

                // Force reflow so transition always triggers
                cube.classList.remove("flip");
                void cube.offsetWidth;

                cube.classList.add("flip");

                // â— Fallback timeout (guaranteed cleanup)
                clearTimeout(flipTimeout);
                flipTimeout = setTimeout(() => {
                    cleanupAfterFlip(text);
                }, FLIP_DURATION + 50);

                // transitionend if it fires
                cube.addEventListener(
                    "transitionend",
                    () => {
                        clearTimeout(flipTimeout);
                        cleanupAfterFlip(text);
                    },
                    { once: true },
                );
            }

            document.querySelectorAll(".social-icon").forEach((icon) => {
                icon.addEventListener("mouseenter", () => {
                    flipTo(icon.dataset.text);
                });

                if (icon.dataset.link) {
                    icon.addEventListener("click", () => {
                        window.open(icon.dataset.link, "_blank", "noopener");
                    });
                }
            });
        </script>
    </body>
</html>
